<!DOCTYPE html>
<html>

<head>
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
</head>

<body>
    <iframe id="codesandbox" style="width: 300px; height: 300px;"></iframe>
    <script src="rtcp-core.js"></script>
    <script>
        // Create sandbox
        const SandboxRenderer = window.sandboxRenderer;
        const rendererInstance = new SandboxRenderer()

        // Define all different situations
        const packageJSON = `
        {
            "name": "supernova-live-react",
            "version": "1.0.0",
            "description": "React Template",
            "keywords": ["react", "supernova"],
            "main": "src/index.js",
            "dependencies": {
                "react-dom": "latest",
                "react": "latest",
                "@mui/material": "latest",
                "@mui/icons-material": "latest",
                "@emotion/styled": "latest",
                "@emotion/react": "latest"
            },
            "devDependencies": {
                "@babel/runtime": "7.13.8",
                "typescript": "4.1.3"
            },
            "scripts": {
                "start": "react-scripts start",
                "build": "react-scripts build",
                "test": "react-scripts test --env=jsdom",
                "eject": "react-scripts eject"
            },
            "browserslist": [">0.2%", "not dead", "not ie <= 11", "not op_mini all"]
        }
        `

        const code = `
        import Stack from '@mui/material/Stack';
        import IconButton from '@mui/material/IconButton';
        import DeleteIcon from '@mui/icons-material/Delete';

        export default function IconButtonSizes() {
        return (
            <Stack direction="row" alignItems="center" spacing={1}>
            <IconButton aria-label="delete" size="small">
                <DeleteIcon fontSize="inherit" />
            </IconButton>
            <IconButton aria-label="delete" size="small">
                <DeleteIcon fontSize="small" />
            </IconButton>
            <IconButton aria-label="delete" size="large">
                <DeleteIcon />
            </IconButton>
            <IconButton aria-label="delete" size="large">
                <DeleteIcon fontSize="inherit" />
            </IconButton>
            </Stack>
        );
        }
        `

        const encodedData = rendererInstance.encodeReactSandboxData(code, packageJSON);
        rendererInstance.injectSandboxDataToTarget("codesandbox", encodedData)
        rendererInstance.buildSandboxesForTargetsWithIDStartingWith("codesandbox")
    </script>
    <p>1.0.0</p>
</body>

</html>